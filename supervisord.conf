[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
pidfile=/var/run/supervisord.pid
loglevel=info

[program:api-server]
command=uvicorn app.main:app --host 0.0.0.0 --port 8000
directory=/app/api-server
autostart=true
autorestart=true
stdout_logfile=/app/logs/api.log
stderr_logfile=/app/logs/api.err
environment=PYTHONUNBUFFERED=1

[program:game-server]
command=npm start
directory=/app/game-server
autostart=true
autorestart=true
stdout_logfile=/app/logs/game.log
stderr_logfile=/app/logs/game.err

[program:client]
command=npm run preview -- --host 0.0.0.0 --port 5173
directory=/app/client
autostart=true
autorestart=true
stdout_logfile=/app/logs/client.log
stderr_logfile=/app/logs/client.err
